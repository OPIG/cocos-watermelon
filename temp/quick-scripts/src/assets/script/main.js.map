{"version":3,"sources":["assets\\script\\main.js"],"names":["cc","Class","Component","properties","block1","Prefab","onLoad","director","getPhysicsManager","enabled","node","on","event","mouse_position","getLocation","world_position","convertToNodeSpaceAR","createBlock","prefabList","name","size","randomNum","Math","floor","random","length","block_Node","instantiate","setPosition","v2","fruit_sprit","getComponent","changeSpriteFrame","physiscs_collider","PhysicsCircleCollider","filter","item","Number","radius","console","log","parent"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACVC,IAAAA,MAAM,EAAEJ,EAAE,CAACK;AADD,GAHP;AAQL;AAEAC,EAAAA,MAVK,oBAUK;AAAA;;AACRN,IAAAA,EAAE,CAACO,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAA0C,IAA1C;AAEA,SAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,UAACC,KAAD,EAAU;AACnC,UAAIC,cAAc,GAAGD,KAAK,CAACE,WAAN,EAArB;;AACA,UAAIC,cAAc,GAAG,KAAI,CAACL,IAAL,CAAUM,oBAAV,CAA+BH,cAA/B,CAArB,CAFmC,CAGnC;AACA;;;AACA,MAAA,KAAI,CAACI,WAAL;AACD,KAND,EAHQ,CAWR;AACD,GAtBI;AAwBL;AACAA,EAAAA,WAzBK,yBAyBU;AACb,QAAMC,UAAU,GAAG,CAAC;AAClBC,MAAAA,IAAI,EAAE,QADY;AAElBC,MAAAA,IAAI,EAAE;AAFY,KAAD,EAInB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAJmB,EAQnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KARmB,EAYnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAZmB,EAgBnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAhBmB,EAoBnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KApBmB,CAAnB;AA0BF,QAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBN,UAAU,CAACO,MAAtC,CAAhB;AACE,QAAIC,UAAU,GAAG1B,EAAE,CAAC2B,WAAH,CAAe,KAAKvB,MAApB,CAAjB;AACAsB,IAAAA,UAAU,CAACE,WAAX,CAAuB5B,EAAE,CAAC6B,EAAH,CAAM,CAAN,EAAS,GAAT,CAAvB;AACA,QAAIC,WAAW,GAAGJ,UAAU,CAACK,YAAX,CAAwB,OAAxB,CAAlB,CA9Ba,CA+Bb;;AACAD,IAAAA,WAAW,CAACE,iBAAZ,CAA8BX,SAA9B,EAhCa,CAiCb;;AAEA,QAAIY,iBAAiB,GAAGP,UAAU,CAACK,YAAX,CAAwB/B,EAAE,CAACkC,qBAA3B,CAAxB;AACA,QAAId,IAAI,GAAGF,UAAU,CAACiB,MAAX,CAAkB,UAACC,IAAD,EAAQ;AACnC,aAAOA,IAAI,CAACjB,IAAL,IAAW,UAASkB,MAAM,CAAChB,SAAS,GAAG,CAAb,CAAjC;AACD,KAFU,CAAX;AAIAY,IAAAA,iBAAiB,CAACK,MAAlB,GAA2BlB,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnC;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAYnB,SAAZ,EAAuBD,IAAI,CAAC,CAAD,CAA3B;AAEAM,IAAAA,UAAU,CAACe,MAAX,GAAoB,KAAK/B,IAAzB;AACD;AArEI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n      block1: cc.Prefab,\r\n      \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n      cc.director.getPhysicsManager().enabled = true;\r\n\r\n      this.node.on('touchstart', (event) =>{\r\n        let mouse_position = event.getLocation()\r\n        let world_position = this.node.convertToNodeSpaceAR(mouse_position)\r\n        // let blockNode = this.node.getChildByName('block')\r\n        // blockNode.setPosition(world_position.x, world_position.y)\r\n        this.createBlock()\r\n      })\r\n     \r\n      // this.createBlock()\r\n    },\r\n\r\n    // create block\r\n    createBlock () {\r\n      const prefabList = [{\r\n        name: 'block1',\r\n        size: 26\r\n      },\r\n      {\r\n        name: 'block2',\r\n        size: 40\r\n      },\r\n      {\r\n        name: 'block3',\r\n        size: 54\r\n      },\r\n      {\r\n        name: 'block4',\r\n        size: 59\r\n      },\r\n      {\r\n        name: 'block5',\r\n        size: 76\r\n      },\r\n      {\r\n        name: 'block6',\r\n        size: 91\r\n      }\r\n    ]\r\n\r\n    let randomNum = Math.floor(Math.random() * prefabList.length)\r\n      let block_Node = cc.instantiate(this.block1)\r\n      block_Node.setPosition(cc.v2(0, 500))\r\n      let fruit_sprit = block_Node.getComponent('block')\r\n      // 调用block.js方法修改sprite frame图片\r\n      fruit_sprit.changeSpriteFrame(randomNum)\r\n      // block_Node.block_type = 'block'+randomNum\r\n      \r\n      let physiscs_collider = block_Node.getComponent(cc.PhysicsCircleCollider)\r\n      let size = prefabList.filter((item)=>{\r\n        return item.name=='block'+ Number(randomNum + 1)\r\n      })\r\n\r\n      physiscs_collider.radius = size[0].size\r\n      console.log(randomNum, size[0]);\r\n\r\n      block_Node.parent = this.node\r\n    },\r\n});\r\n"]}