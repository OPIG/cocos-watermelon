{"version":3,"sources":["assets/script/main.js"],"names":["cc","Class","Component","properties","block1","Prefab","onLoad","director","getPhysicsManager","enabled","node","on","event","mouse_position","getLocation","world_position","convertToNodeSpaceAR","createBlock","prefabList","name","size","randomNum","Math","floor","random","length","block_Node","instantiate","fruit_sprit","getComponent","changeSpriteFrame","physiscs_collider","PhysicsCircleCollider","filter","item","Number","radius","console","log","parent"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACVC,IAAAA,MAAM,EAAEJ,EAAE,CAACK;AADD,GAHP;AAQL;AAEAC,EAAAA,MAVK,oBAUK;AAAA;;AACRN,IAAAA,EAAE,CAACO,QAAH,CAAYC,iBAAZ,GAAgCC,OAAhC,GAA0C,IAA1C;AAEA,SAAKC,IAAL,CAAUC,EAAV,CAAa,YAAb,EAA2B,UAACC,KAAD,EAAU;AACnC,UAAIC,cAAc,GAAGD,KAAK,CAACE,WAAN,EAArB;;AACA,UAAIC,cAAc,GAAG,KAAI,CAACL,IAAL,CAAUM,oBAAV,CAA+BH,cAA/B,CAArB,CAFmC,CAGnC;AACA;;;AACA,MAAA,KAAI,CAACI,WAAL;AACD,KAND,EAHQ,CAWR;AACD,GAtBI;AAwBL;AACAA,EAAAA,WAzBK,yBAyBU;AACb,QAAMC,UAAU,GAAG,CAAC;AAClBC,MAAAA,IAAI,EAAE,QADY;AAElBC,MAAAA,IAAI,EAAE;AAFY,KAAD,EAInB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAJmB,EAQnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KARmB,EAYnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAZmB,EAgBnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KAhBmB,EAoBnB;AACED,MAAAA,IAAI,EAAE,QADR;AAEEC,MAAAA,IAAI,EAAE;AAFR,KApBmB,CAAnB;AA0BF,QAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBN,UAAU,CAACO,MAAtC,CAAhB;AACE,QAAIC,UAAU,GAAG1B,EAAE,CAAC2B,WAAH,CAAe,KAAKvB,MAApB,CAAjB;AACA,QAAIwB,WAAW,GAAGF,UAAU,CAACG,YAAX,CAAwB,OAAxB,CAAlB;AACAD,IAAAA,WAAW,CAACE,iBAAZ,CAA8BT,SAA9B;AAEA,QAAIU,iBAAiB,GAAGL,UAAU,CAACG,YAAX,CAAwB7B,EAAE,CAACgC,qBAA3B,CAAxB;AACA,QAAIZ,IAAI,GAAGF,UAAU,CAACe,MAAX,CAAkB,UAACC,IAAD,EAAQ;AACnC,aAAOA,IAAI,CAACf,IAAL,IAAW,UAASgB,MAAM,CAACd,SAAS,GAAG,CAAb,CAAjC;AACD,KAFU,CAAX;AAIAU,IAAAA,iBAAiB,CAACK,MAAlB,GAA2BhB,IAAI,CAAC,CAAD,CAAJ,CAAQA,IAAnC;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAYjB,SAAZ,EAAuBD,IAAI,CAAC,CAAD,CAA3B;AAEAM,IAAAA,UAAU,CAACa,MAAX,GAAoB,KAAK7B,IAAzB;AACD;AAlEI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n      block1: cc.Prefab,\n      \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n      cc.director.getPhysicsManager().enabled = true;\n\n      this.node.on('touchstart', (event) =>{\n        let mouse_position = event.getLocation()\n        let world_position = this.node.convertToNodeSpaceAR(mouse_position)\n        // let blockNode = this.node.getChildByName('block')\n        // blockNode.setPosition(world_position.x, world_position.y)\n        this.createBlock()\n      })\n     \n      // this.createBlock()\n    },\n\n    // create block\n    createBlock () {\n      const prefabList = [{\n        name: 'block1',\n        size: 26\n      },\n      {\n        name: 'block2',\n        size: 40\n      },\n      {\n        name: 'block3',\n        size: 54\n      },\n      {\n        name: 'block4',\n        size: 59\n      },\n      {\n        name: 'block5',\n        size: 76\n      },\n      {\n        name: 'block6',\n        size: 91\n      }\n    ]\n\n    let randomNum = Math.floor(Math.random() * prefabList.length)\n      let block_Node = cc.instantiate(this.block1)\n      let fruit_sprit = block_Node.getComponent('block')\n      fruit_sprit.changeSpriteFrame(randomNum)\n      \n      let physiscs_collider = block_Node.getComponent(cc.PhysicsCircleCollider)\n      let size = prefabList.filter((item)=>{\n        return item.name=='block'+ Number(randomNum + 1)\n      })\n\n      physiscs_collider.radius = size[0].size\n      console.log(randomNum, size[0]);\n\n      block_Node.parent = this.node\n    },\n});\n"]}