window.__require=function e(o,t,c){function n(i,s){if(!t[i]){if(!o[i]){var a=i.split("/");if(a=a[a.length-1],!o[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+i+"'")}i=a}var f=t[i]={exports:{}};o[i][0].call(f.exports,function(e){return n(o[i][1][e]||e)},f,f.exports,e,o,t,c)}return t[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<c.length;i++)n(c[i]);return n}({block:[function(e,o){"use strict";cc._RF.push(o,"aeee7BUxmpMhIAb+ZP37loM","block"),cc.Class({extends:cc.Component,properties:{spriteFrameList:{type:cc.SpriteFrame,default:[]}},start:function(){this.can_conllision=!0},changeSpriteFrame:function(e){this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrameList[e]},onBeginContact:function(e,o,t){console.log("\u53ea\u5728\u4e24\u4e2a\u78b0\u649e\u4f53\u5f00\u59cb\u63a5\u89e6\u65f6\u88ab\u8c03\u7528\u4e00\u6b21");var c=t.node.getComponent("block");if(c&&this.can_conllision&&this.node.block_type==c.node.block_type){var n=this.node.getPosition(),r=t.node.getPosition(),i=n;i.y>r.y&&(i=r);var s=Number(this.node.block_type.split("k")[1]);this.node.removeFromParent(),t.node.removeFromParent(),this.can_conllision=!1,c.can_conllision=!1,main.createTx(n,s),main.createTx(r,s),this.scheduleOnce(function(){main.createBlock(i,s,!0),main.addScore()}.bind(this),.15)}}}),cc._RF.pop()},{}],main:[function(e,o){"use strict";cc._RF.push(o,"112feYICEhDVLEITA+DJarC","main"),cc.Class({extends:cc.Component,properties:{block1:cc.Prefab,score_Label:cc.Label,bzPrefab:cc.Prefab},onLoad:function(){var e=this;this.prefabList=[{name:"block1",size:26,color:[110,16,100]},{name:"block2",size:40,color:[255,9,36]},{name:"block3",size:54,color:[253,11,1]},{name:"block4",size:59,color:[255,230,23]},{name:"block5",size:76,color:[110,16,100]},{name:"block6",size:91,color:[110,16,100]},{name:"block7",size:96,color:[110,16,100]},{name:"block8",size:129,color:[110,16,100]},{name:"block9",size:154,color:[110,16,100]},{name:"block10",size:154,color:[110,16,100]},{name:"block11",size:204,color:[110,16,100]}],window.main=this,this.f_scale=.8,this.current_score=0,cc.director.getPhysicsManager().enabled=!0,this.node.on("touchstart",function(o){var t=o.getLocation(),c=e.node.convertToNodeSpaceAR(t);c.y=500;var n=Math.floor(Math.random()*(e.prefabList.length-5));e.createBlock(c,n)})},createBlock:function(e,o,t){void 0===t&&(t=!1),o>=this.prefabList.length&&(o=this.prefabList.length);var c=cc.instantiate(this.block1);if(c.setPosition(cc.v2(e.x,e.y)),c.scale=this.f_scale,t){c.scale=.3;var n=cc.scaleTo(.15,this.f_scale);c.runAction(n)}c.getComponent("block").changeSpriteFrame(o),c.block_type="block"+Number(o+1);var r=c.getComponent(cc.PhysicsCircleCollider),i=this.prefabList.filter(function(e){return e.name==c.block_type});r.radius=i[0].size,console.log(o,i[0]),c.parent=this.node},createTx:function(e,o){var t=cc.instantiate(this.bzPrefab);t.setPosition(cc.v2(e.x,e.y)),t.parent=this.node,t.scale=0;var c=this.prefabList.filter(function(e){return e.name=="block"+Number(o+1)});t.color=new cc.Color(c[0].color[0],c[0].color[1],c[0].color[2]),cc.tween(t).to(.1,{scale:.2}).call(function(){t.removeFromParent()}).start()},addScore:function(){this.current_score+=1,this.score_Label.string=this.current_score}}),cc._RF.pop()},{}]},{},["block","main"]);